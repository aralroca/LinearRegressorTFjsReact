(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},105:function(e,t){},138:function(e,t){},139:function(e,t){},188:function(e,t,n){},190:function(e,t,n){"use strict";n.r(t);var a=n(16),i=n(17),r=n(34),o=n(33),c=n(35),l=n(3),s=n.n(l),u=n(89),d=n(92),m=n(9),h=n(48),p=n.n(h),b=n(90),f=n(18),v=function(){function e(){Object(a.a)(this,e)}return Object(i.a)(e,[{key:"trainModel",value:function(){var e=Object(b.a)(p.a.mark(function e(t,n){var a,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.a.dense({units:1,inputShape:[1]}),i={loss:"meanSquaredError",optimizer:"sgd"},this.linearModel=f.b(),this.linearModel.add(a),this.linearModel.compile(i),e.next=7,this.linearModel.fit(f.c(t),f.c(n));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){return Array.from(this.linearModel.predict(f.d([e],[1,1])).dataSync())}}]),e}(),y=n(91),E=n.n(y),k=function(e){return"number"===typeof e&&!Number.isNaN(e)},j=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(o.a)(t).call(this,e))).state={dataset:[],training:!1,completed:!1},n.linearModel=new v,n.onAdd=n.onAdd.bind(Object(m.a)(Object(m.a)(n))),n.onPredict=n.onPredict.bind(Object(m.a)(Object(m.a)(n))),n.onTrainModel=n.onTrainModel.bind(Object(m.a)(Object(m.a)(n))),n.comeBack=n.comeBack.bind(Object(m.a)(Object(m.a)(n))),n}return Object(c.a)(t,e),Object(i.a)(t,[{key:"onAdd",value:function(e){var t=parseFloat(this.x.value),n=parseFloat(this.y.value);if(e.preventDefault(),k(t))if(k(n)){var a={id:E()(),x:t,y:n};this.x.value=void 0,this.y.value=void 0,this.setState({dataset:[].concat(Object(d.a)(this.state.dataset),[a]),error:""})}else this.setState({error:"Y is not a valid number"});else this.setState({error:"X is not a valid number"})}},{key:"onPredict",value:function(){var e=parseFloat(this.toPredict.value);k(e)?this.setState({prediction:this.linearModel.predict(e),error:""}):this.setState({error:"Input from prediction is not a valid number"})}},{key:"onTrainModel",value:function(){var e=this,t=this.state.dataset.map(function(e){return e.x}),n=this.state.dataset.map(function(e){return e.y});this.setState({training:!0,prediction:void 0},function(){e.linearModel.trainModel(t,n).then(function(){e.setState({completed:!0,training:!1,error:""})})})}},{key:"onRemove",value:function(e){var t=this.state.dataset.slice();t.splice(e,1),this.setState({dataset:t})}},{key:"comeBack",value:function(){this.setState({completed:!1})}},{key:"renderTraining",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h2",null,"Train a linear model"),s.a.createElement("form",{onSubmit:this.onAdd},s.a.createElement("label",null,"X:"),s.a.createElement("input",{type:"number",ref:function(t){e.x=t}}),s.a.createElement("label",null,"Y:"),s.a.createElement("input",{type:"number",ref:function(t){e.y=t}}),s.a.createElement("button",{type:"submit"},"Add"),s.a.createElement("p",{className:"error"},this.state.error)),this.state.dataset.map(function(t,n){return s.a.createElement("div",{className:"dataset",key:"dataset-".concat(t.id)},s.a.createElement("span",null,s.a.createElement("b",null,"X:")," ",t.x,", ",s.a.createElement("b",null,"Y:")," ",t.y),s.a.createElement("button",{className:"remove",onClick:function(){return e.onRemove(n)}},"Remove"))}),this.state.dataset.length>2?s.a.createElement("button",{className:"train",onClick:this.onTrainModel,disabled:this.state.training},this.state.training?"Training":"Do Training!"):s.a.createElement("span",{className:"info"},"Please, add at least 3 elements into the dataset"))}},{key:"renderPrediction",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("h2",null,"Trained! Now fill the X to predict the Y"),s.a.createElement("input",{type:"number",ref:function(t){e.toPredict=t}}),s.a.createElement("button",{onClick:this.onPredict},"Predict"),s.a.createElement("button",{onClick:this.comeBack},"Come back to train page"),this.state.prediction&&s.a.createElement("p",null,s.a.createElement("b",null,"Prediction:")," ",this.state.prediction))}},{key:"render",value:function(){return this.state.completed?this.renderPrediction():this.renderTraining()}}]),t}(l.Component),O=(n(188),function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(j,null)}}]),t}(l.Component));Object(u.render)(s.a.createElement(O,null),document.getElementById("root"))},93:function(e,t,n){e.exports=n(190)}},[[93,2,1]]]);
//# sourceMappingURL=main.01d52062.chunk.js.map